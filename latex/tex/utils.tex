% ---Notation macros---

% math
\let\oldvec\vec
% \renewcommand{\vec}[1]{\bm{\mathbf{#1}}}
\renewcommand{\vec}[1]{\bm{#1}} % \bm vs \mathbf
\newcommand{\vecf}[1]{\bm{#1}} % \bm vs \mathbf
\newcommand{\vecelem}[1]{#1}
\newcommand{\vecarrow}[1]{\vv{#1}}
\newcommand{\mat}[1]{\bm{#1}}
\newcommand{\matelem}[1]{\mathit{#1}}
\newcommand{\ten}[1]{\mathbf{#1}}
\newcommand{\tenelem}[1]{\mathrm{#1}}
\newcommand{\set}[1]{\mathbb{#1}}
\newcommand{\fspace}[1]{\mathcal{#1}}

\newcommand{\trans}[1]{#1^{\mathsf{T}}}
\newcommand{\ifrac}[2]{\sfrac{#1}{#2}}
\newcommand{\deriv}[2]{\frac{\text{d}#1}{\text{d}#2}}
\newcommand{\partderiv}[2]{\frac{\partial #1}{\partial #2}}
\newcommand{\ideriv}[2]{\ifrac{\text{d}#1}{\text{d}#2}}
\newcommand{\ipartderiv}[2]{\ifrac{\partial #1}{\partial #2}}

\DeclarePairedDelimiter{\norm}{\lVert}{\rVert}


% machine learning
\newcommand{\param}{\lambda}


% misc
\newcommand{\keyword}[1]{\textbf{#1}}
\newcommand{\para}{\par\medskip}
\newcommand{\ds}{\displaystyle}

\newcommand{\keycode}[1]{\texttt{#1}}
\newcommand{\code}[1]{\texttt{#1}}


\newcommand{\refbox}[1]{%
  \begin{tikzpicture}[inner sep=0pt, baseline=(base)]%
    \node[anchor=center,text=black,draw=black,rectangle,rounded corners,inner sep=2pt] at (2.5mm,0){%
      \ref{#1}
    };
    \node (base) at (0,-.7ex) {};
  \end{tikzpicture}%
}

% --- TIKZ ---


\NewEnviron{textbox}[3]
{
  \colorlet{color1}{#2}
  \colorlet{color2}{#3}

  \tikzstyle{thebox} = [draw=color1, fill=color2, very thick, rectangle, rounded corners, inner sep=10pt, inner ysep=20pt]
  \tikzstyle{thetitle} = [fill=color1, text=white,right, inner xsep=1em, outer sep=0pt, text height=2ex, text depth=.5ex]
  \begin{tikzpicture}
    \node [thebox] (box) {%
      \begin{minipage}{1.0\textwidth - 4em}
        \BODY
      \end{minipage}
    };
    \node [thetitle] (title) at ([shift={(-1em,0pt)}]box.north west) {#1};
    \fill[color1!50!black] (title.north east) -- +(-1em,1em) -- +(-1em,0) -- cycle;
    \fill[color1!50!black] (title.south west) -- +(1em,-1em) -- +(1em,0) -- cycle;
  \end{tikzpicture}
}

\NewEnviron{graybox}[1]
{
  \colorlet{color1}{gray!50!black}
  \colorlet{color2}{gray}

  \tikzstyle{thebox} = [draw=color1, fill=color2, very thick, rectangle, rounded corners, inner sep=10pt, inner ysep=20pt]
  \tikzstyle{thetitle} = [fill=color1, text=white,right, inner xsep=1em, outer sep=0pt, text height=2ex, text depth=.5ex]
  \begin{tikzpicture}
    \node [thebox] (box) {%
      \begin{minipage}{0.6\textwidth - 4em}
        \BODY
      \end{minipage}
    };
    \node [thetitle] (title) at ([shift={(-1em,0pt)}]box.north west) {#1};
    \fill[color1!50!black] (title.north east) -- +(-1em,1em) -- +(-1em,0) -- cycle;
    \fill[color1!50!black] (title.south west) -- +(1em,-1em) -- +(1em,0) -- cycle;
  \end{tikzpicture}
}

\NewEnviron{defbox}[1]
{
  \colorlet{color1}{red}
  \colorlet{color2}{red!40!pagecolor}

  \tikzstyle{thebox} = [draw=color1, fill=color2, very thick, rectangle, rounded corners, inner sep=10pt, inner ysep=20pt]
  \tikzstyle{thetitle} = [fill=color1, text=white,right, inner xsep=1em, outer sep=0pt, text height=2ex, text depth=.5ex]
  \begin{tikzpicture}
    \node [thebox] (box) {%
      \begin{minipage}{1.0\textwidth - 4em}
        \BODY
      \end{minipage}
    };
    \node [thetitle] (title) at ([shift={(-1em,0pt)}]box.north west) {#1};
    \fill[color1!50!black] (title.north east) -- +(-1em,1em) -- +(-1em,0) -- cycle;
    \fill[color1!50!black] (title.south west) -- +(1em,-1em) -- +(1em,0) -- cycle;
  \end{tikzpicture}
}

\NewEnviron{infobox}[1]
{
  \colorlet{color1}{blue}
  \colorlet{color2}{blue!40!pagecolor}

  \tikzstyle{thebox} = [draw=color1, fill=color2, very thick, rectangle, rounded corners, inner sep=10pt, inner ysep=20pt]
  \tikzstyle{thetitle} = [fill=color1, text=white,right, inner xsep=1em, outer sep=0pt, text height=2ex, text depth=.5ex]
  \begin{tikzpicture}
    \node [thebox] (box) {%
      \begin{minipage}{1.0\textwidth - 4em}
        \BODY
      \end{minipage}
    };
    \node [thetitle] (title) at ([shift={(-1em,0pt)}]box.north west) {#1};
    \fill[color1!50!black] (title.north east) -- +(-1em,1em) -- +(-1em,0) -- cycle;
    \fill[color1!50!black] (title.south west) -- +(1em,-1em) -- +(1em,0) -- cycle;
  \end{tikzpicture}
}


\NewEnviron{examplebox}[1]
{
  \colorlet{color1}{yellow}
  \colorlet{color2}{yellow!40!pagecolor}

  \tikzstyle{thebox} = [draw=color1, fill=color2, very thick, rectangle, rounded corners, inner sep=10pt, inner ysep=20pt]
  \tikzstyle{thetitle} = [fill=color1, text=black,right, inner xsep=1em, outer sep=0pt, text height=2ex, text depth=.5ex]
  \begin{tikzpicture}
    \node [thebox] (box) {%
      \begin{minipage}{1.0\textwidth - 4em}
        \BODY
      \end{minipage}
    };
    \node [thetitle] (title) at ([shift={(-1em,0pt)}]box.north west) {#1};
    \fill[color1!50!black] (title.north east) -- +(-1em,1em) -- +(-1em,0) -- cycle;
    \fill[color1!50!black] (title.south west) -- +(1em,-1em) -- +(1em,0) -- cycle;
  \end{tikzpicture}
}

% \newcommand{\code}{\mint[frame=lines,framesep=2mm,baselinestretch=1.2,bgcolor=lightgray,fontsize=\footnotesize,linenos]{python}}

% \newenvironment{codeblock}
% {
%   \begin{minted}[frame=lines,framesep=2mm,baselinestretch=1.2,bgcolor=lightgray,fontsize=\footnotesize,linenos]{python}
% }
% {
% \end{minted}
% }

% conditional compilation
\newif\ifcp
\cptrue % if commented out -> no compilation


%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../main"
%%% End:
